{% include 'base.html' %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Location Management</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Custom styles */
        /* Table styles */
        th {
            background-color: #4BA3E2;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        /* Delete button styles */
        .delete-btn {
            background-color: #f44336;
            color: white;
            padding: 6px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <h1 class="mt-4">Location Management</h1>
            </div>
        </div>

        <!-- Table to display existing locations -->
        <h2 class="mt-4">Available Locations</h2>
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th>Location Name</th>
                        <th>Number of Booths</th>
                        <th>Number of Cameras</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for location in locations %}
                    <tr>
                        <td>{{ location.name }}</td>
                        <td>{{ location.booth_set.count }}</td>
                        <td>{{ location.camera_set.count }}</td>
                        <td><button class="btn btn-danger delete-btn" onclick="deleteLocation('{{ location.id }}')">Delete</button></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Bootstrap JS (optional, for some Bootstrap components) -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>

    <script>
        function deleteLocation(locationId) {
            // Here you can implement JavaScript logic to delete the location
            // You may use AJAX to send a request to your backend to delete the location
            // After successful deletion, you may refresh the page or update the UI accordingly
            alert("Delete location with ID: " + locationId);
        }
    </script>
</body>
</html>
